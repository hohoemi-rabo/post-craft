# Post Craft フェーズ3 改善版 要件定義書

> 作成日: 2026-02-10
> ステータス: 要件定義完了
> 対象: Phase 3 投稿タイプカスタム機能の改善

---

## 1. この要件定義書の目的

### 1.1 背景

Phase 3 で実装した「投稿タイプカスタム機能」は、ユーザーが以下を直接編集する設計だった：

- テンプレート構造（`{変数名}` 形式）
- プレースホルダー変数（name, label, description, required, inputType）
- 整合性の維持

**問題点**: この設計はユーザーにとって難しく、使いづらい。

### 1.2 改善の方向性

**「ユーザーがメモ書きで意図を伝え、AIが生成する」** 方式に変更する。

```
【現状】ユーザーが細かく設定する
テンプレート構造を書く → プレースホルダー変数を定義する → 整合性を保つ

【改善後】ユーザーはメモ書きだけ、AIが生成する
メモ書きで意図を伝える → AIが全て生成 → プレビューで確認 → 保存
```

### 1.3 変更しない部分

- 投稿タイプ一覧画面の基本レイアウト
- ハッシュタグ設定機能（そのまま）
- 投稿作成・履歴・キャラクター管理等の既存機能
- 既存の投稿履歴データ（絶対に削除しない）

---

## 2. 機能要件

### 2.1 システムプロンプト設定（新規機能）

#### 概要

全投稿タイプ共通で使用するシステムプロンプトを設定する機能。

#### 仕様

| 項目           | 内容                                      |
| -------------- | ----------------------------------------- |
| 設定場所       | `/settings/system-prompt`（新規ページ）   |
| 設定タイミング | 最初に1回設定、いつでも編集可能           |
| 初期値         | 現在のハードコード `SYSTEM_PROMPT` を移行 |

#### 機能

| 機能         | 説明                                             |
| ------------ | ------------------------------------------------ |
| メモ書き入力 | ユーザーがサービスや投稿の方向性をメモ書きで入力 |
| AI生成       | メモ書きからシステムプロンプトを生成             |
| 手動編集     | 生成後のプロンプトを直接編集も可能               |
| 保存         | DBに保存                                         |

#### 画面イメージ

```
┌─────────────────────────────────────────────────────────────┐
│ ⚙️ 設定 > 📋 システムプロンプト                              │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ 全ての投稿タイプに共通で適用されるAIへの指示を設定します。   │
│                                                             │
│ ┌─ メモ書き入力 ──────────────────────────────────────────┐ │
│ │                                                         │ │
│ │ あなたのサービスや投稿の方向性をメモ書きで入力してください │ │
│ │                                                         │ │
│ │ ┌─────────────────────────────────────────────────────┐ │ │
│ │ │ パソコン教室「ほほ笑みラボ」の講師として            │ │ │
│ │ │ シニア向けにやさしく説明する                        │ │ │
│ │ │ 共感→安心の流れで書く                              │ │ │
│ │ │ 飯田市でやってる                                    │ │ │
│ │ └─────────────────────────────────────────────────────┘ │ │
│ │                                                         │ │
│ │ [AIで生成]                                              │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─ 生成されたシステムプロンプト ──────────────────────────┐ │
│ │                                                         │ │
│ │ ┌─────────────────────────────────────────────────────┐ │ │
│ │ │ あなたはパソコン教室「ほほ笑みラボ」の講師です。    │ │ │
│ │ │ シニアの方にもわかりやすく、やさしい言葉で説明して  │ │ │
│ │ │ ください。                                          │ │ │
│ │ │                                                      │ │ │
│ │ │ 【文章スタイル】                                     │ │ │
│ │ │ - まず共感を示す                                     │ │ │
│ │ │ - 次に安心感を与える解決策を提示                     │ │ │
│ │ │ ...                                                  │ │ │
│ │ └─────────────────────────────────────────────────────┘ │ │
│ │                                                         │ │
│ │ 💡 生成後に手動で編集することもできます                  │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│                                                    [保存]   │
└─────────────────────────────────────────────────────────────┘
```

---

### 2.2 投稿タイプ登録・編集（改善）

#### 概要

投稿タイプの登録・編集を「メモ書き → AI生成 → プレビュー → 保存」の流れに変更。

#### 現状 → 改善後

| 項目                 | 現状                 | 改善後                             |
| -------------------- | -------------------- | ---------------------------------- |
| テンプレート構造     | ユーザーが直接記述   | AIが生成                           |
| プレースホルダー変数 | ユーザーが個別に定義 | AIが生成                           |
| タイプ別プロンプト   | 自動生成（編集不可） | AIが生成（メモ書きから）           |
| 入力方式             | 項目別入力のみ       | 項目別入力 or メモ書き（選択可能） |

#### ユーザーが入力する項目

| 項目               | 必須 | 説明                                    |
| ------------------ | :--: | --------------------------------------- |
| アイコン           |  ✅  | 絵文字ピッカーから選択                  |
| タイプ名           |  ✅  | 表示名（例：「解決タイプ」）            |
| 説明文             |  ✅  | タイプの説明                            |
| 文字数目安（最小） |  ✅  | 生成文章の最小文字数                    |
| 文字数目安（最大） |  ✅  | 生成文章の最大文字数                    |
| メモ書き           |  ✅  | どんな投稿にしたいかの説明              |
| 入力方式           |  ✅  | `fields`（項目別）or `memo`（メモ書き） |

#### AIが生成する項目

| 項目                 | 説明                                       |
| -------------------- | ------------------------------------------ |
| タイプ別プロンプト   | AIへの指示文（生成ルール等）               |
| テンプレート構造     | 出力形式（絵文字、見出し、構造）           |
| プレースホルダー変数 | 入力項目の定義（入力方式が`fields`の場合） |

#### 画面イメージ（新規登録・編集）

```
┌─────────────────────────────────────────────────────────────┐
│ ⚙️ 設定 > 📝 投稿タイプ > 新規登録                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ ┌─ 基本情報 ──────────────────────────────────────────────┐ │
│ │                                                         │ │
│ │ アイコン        タイプ名                                 │ │
│ │ [🔧 ▼]         [解決タイプ________________]             │ │
│ │                                                         │ │
│ │ 説明文                                                  │ │
│ │ [よくある質問と3ステップの解決方法________]             │ │
│ │                                                         │ │
│ │ 文字数目安                                              │ │
│ │ 最小 [200] 〜 最大 [300] 文字                           │ │
│ │                                                         │ │
│ │ 入力方式                                                │ │
│ │ ○ 項目別入力（AIが生成した入力フォームを使用）          │ │
│ │ ○ メモ書き入力（1つのテキストエリアで入力）             │ │
│ │                                                         │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─ どんな投稿にしたいか ──────────────────────────────────┐ │
│ │                                                         │ │
│ │ メモ書きで入力してください。AIがプロンプト・テンプレート │ │
│ │ ・入力項目を自動生成します。                            │ │
│ │                                                         │ │
│ │ ┌─────────────────────────────────────────────────────┐ │ │
│ │ │ シニアからよくある質問を紹介して                    │ │ │
│ │ │ 3ステップで解決方法を説明する                       │ │ │
│ │ │ 最後にワンポイントアドバイスを入れる                 │ │ │
│ │ │ 質問は「」で囲む                                    │ │ │
│ │ │ 絵文字を使って見やすく                              │ │ │
│ │ └─────────────────────────────────────────────────────┘ │ │
│ │                                                         │ │
│ │ [AIで生成してプレビュー]                                │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### プレビュー画面

「AIで生成してプレビュー」ボタン押下後に表示。

```
┌─────────────────────────────────────────────────────────────┐
│ 📋 プレビュー                                    [× 閉じる] │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ ┌─ 生成された設定 ────────────────────────────────────────┐ │
│ │                                                         │ │
│ │ 【タイプ別プロンプト】                                  │ │
│ │ ┌─────────────────────────────────────────────────────┐ │ │
│ │ │ 質問と解決方法を紹介する投稿です。                  │ │ │
│ │ │ 入力された内容を分析し、以下のルールで生成して...   │ │ │
│ │ └─────────────────────────────────────────────────────┘ │ │
│ │                                                         │ │
│ │ 【テンプレート構造】                                    │ │
│ │ ┌─────────────────────────────────────────────────────┐ │ │
│ │ │ 📱 シニアからの質問                                 │ │ │
│ │ │ 「{question}」                                      │ │ │
│ │ │                                                      │ │ │
│ │ │ 💡 解決方法                                         │ │ │
│ │ │ ① {step1}                                          │ │ │
│ │ │ ② {step2}                                          │ │ │
│ │ │ ③ {step3}                                          │ │ │
│ │ │ ...                                                 │ │ │
│ │ └─────────────────────────────────────────────────────┘ │ │
│ │                                                         │ │
│ │ 【入力項目】(入力方式が「項目別入力」の場合)            │ │
│ │ ・question（質問内容）- 必須                           │ │
│ │ ・step1（ステップ1）- 必須                             │ │
│ │ ・step2（ステップ2）- 必須                             │ │
│ │ ・step3（ステップ3）- 必須                             │ │
│ │ ・tip（ワンポイント）- 任意                            │ │
│ │                                                         │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ┌─ サンプル投稿 ──────────────────────────────────────────┐ │
│ │                                                         │ │
│ │ 📱 シニアからの質問                                     │ │
│ │ 「LINEの通知が来ないんです」                            │ │
│ │                                                         │ │
│ │ 💡 解決方法                                             │ │
│ │ ① 設定アプリを開く                                     │ │
│ │ ② 「通知」をタップ                                     │ │
│ │ ③ LINEの通知をONにする                                 │ │
│ │                                                         │ │
│ │ ✨ ワンポイント                                         │ │
│ │ 通知を許可すると、メッセージが届いたときに              │ │
│ │ すぐに気づくことができますよ！                         │ │
│ │                                                         │ │
│ │ ---                                                     │ │
│ │ 📍パソコン・スマホ ほほ笑みラボ（飯田市）               │ │
│ │                                                         │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│               [メモ書きを修正して再生成] [この内容で保存]   │
└─────────────────────────────────────────────────────────────┘
```

---

### 2.3 投稿作成時の入力方式

#### 概要

投稿タイプごとに「項目別入力」または「メモ書き入力」を選択可能に。

#### 入力方式

| 方式                   | 説明                                             | 表示                                    |
| ---------------------- | ------------------------------------------------ | --------------------------------------- |
| `fields`（項目別入力） | AIが生成したプレースホルダー変数に基づくフォーム | 「質問」「ステップ1」等の個別フィールド |
| `memo`（メモ書き入力） | 1つのテキストエリアで自由入力                    | 「投稿内容をメモ書きで入力」            |

#### 投稿作成画面（項目別入力の場合）

```
┌─────────────────────────────────────────────────────────────┐
│ Step 2: 内容を入力                                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ 🔧 解決タイプ                                               │
│                                                             │
│ 質問内容 *                                                  │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ LINEの通知が来ない                                      │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ステップ1 *                                                 │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 設定を開く                                              │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ステップ2 *                                                 │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 通知を選択                                              │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ ... 以下続く                                                │
└─────────────────────────────────────────────────────────────┘
```

#### 投稿作成画面（メモ書き入力の場合）

```
┌─────────────────────────────────────────────────────────────┐
│ Step 2: 内容を入力                                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ 🔧 解決タイプ                                               │
│                                                             │
│ 投稿内容をメモ書きで入力してください                        │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ LINEの通知が来ないって質問されて                        │ │
│ │ 設定から通知をONにしたら解決した                        │ │
│ │ 結構この質問多いんだよね                                │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 3. データベース変更

### 3.1 user_settings テーブル（カラム追加）

**追加カラム:**

| カラム               | 型   | デフォルト          | 説明                                         |
| -------------------- | ---- | ------------------- | -------------------------------------------- |
| `system_prompt_memo` | TEXT | NULL                | システムプロンプト生成用のメモ書き           |
| `system_prompt`      | TEXT | 現在のSYSTEM_PROMPT | AI生成または手動編集されたシステムプロンプト |

**SQL:**

```sql
-- カラム追加
ALTER TABLE user_settings
ADD COLUMN system_prompt_memo TEXT,
ADD COLUMN system_prompt TEXT;

-- 既存ユーザーに現在のSYSTEM_PROMPTを初期値として設定
UPDATE user_settings
SET system_prompt = '現在のハードコードされたSYSTEM_PROMPTの内容';
```

### 3.2 post_types テーブル（カラム追加）

**追加カラム:**

| カラム        | 型   | デフォルト | 説明                                 |
| ------------- | ---- | ---------- | ------------------------------------ |
| `user_memo`   | TEXT | NULL       | ユーザーのメモ書き（AI生成の元入力） |
| `type_prompt` | TEXT | NULL       | AI生成されたタイプ別プロンプト       |
| `input_mode`  | TEXT | 'fields'   | 入力方式（`fields` or `memo`）       |

**既存カラム（変更なし、そのまま維持）:**

| カラム               | 用途                                   |
| -------------------- | -------------------------------------- |
| `template_structure` | AI生成されたテンプレート構造を保存     |
| `placeholders`       | AI生成されたプレースホルダー変数を保存 |

**SQL:**

```sql
-- カラム追加
ALTER TABLE post_types
ADD COLUMN user_memo TEXT,
ADD COLUMN type_prompt TEXT,
ADD COLUMN input_mode TEXT NOT NULL DEFAULT 'fields';

-- input_mode の制約
ALTER TABLE post_types
ADD CONSTRAINT post_types_input_mode_check
CHECK (input_mode IN ('fields', 'memo'));
```

### 3.3 ビルトイン7タイプの移行

**重要: 既存の7タイプは絶対に削除しない。**

ビルトイン7タイプがまだDBに存在しない場合は、以下を実行：

- 既存のハードコードされたテンプレート構造、プレースホルダー、タイプ別プロンプトをDBに挿入
- `user_memo` は空（NULL）のまま
- `type_prompt` には既存の `TYPE_PROMPTS` の内容を設定

```sql
-- 例: solution タイプの移行（他の6タイプも同様）
UPDATE post_types
SET type_prompt = '質問と解決方法を紹介する投稿です。
入力メモの内容を分析し...
【生成のルール】
- question: 入力メモから「よくある質問」を...
...'
WHERE slug = 'solution' AND user_id = 'まさゆきさんのuser_id';
```

---

## 4. API変更

### 4.1 新規API

#### POST /api/generate/system-prompt

システムプロンプトをAI生成する。

**Request:**

```typescript
{
  memo: string; // ユーザーのメモ書き
}
```

**Response:**

```typescript
{
  systemPrompt: string; // 生成されたシステムプロンプト
}
```

#### POST /api/generate/post-type

投稿タイプの設定（タイプ別プロンプト、テンプレート構造、プレースホルダー）をAI生成する。

**Request:**

```typescript
{
  name: string; // タイプ名
  description: string; // 説明文
  minLength: number; // 最小文字数
  maxLength: number; // 最大文字数
  userMemo: string; // ユーザーのメモ書き
  inputMode: 'fields' | 'memo'; // 入力方式
}
```

**Response:**

```typescript
{
  typePrompt: string;              // タイプ別プロンプト
  templateStructure: string;       // テンプレート構造
  placeholders: Placeholder[];     // プレースホルダー変数（inputMode='fields'の場合）
  samplePost: string;              // サンプル投稿（プレビュー用）
}
```

### 4.2 既存API変更

#### PUT /api/settings

システムプロンプト関連のフィールドを追加。

**Request（追加フィールド）:**

```typescript
{
  // 既存フィールド
  requiredHashtags?: string[];

  // 追加フィールド
  systemPromptMemo?: string;
  systemPrompt?: string;
}
```

#### POST /api/post-types, PUT /api/post-types/[id]

新しいフィールドを追加。

**Request（追加フィールド）:**

```typescript
{
  // 既存フィールド
  name: string;
  icon: string;
  description: string;
  templateStructure: string;
  placeholders: Placeholder[];
  minLength: number;
  maxLength: number;

  // 追加フィールド
  userMemo?: string;
  typePrompt?: string;
  inputMode: 'fields' | 'memo';
}
```

#### POST /api/generate/caption

`inputMode` に応じた処理を追加。

**処理フロー:**

```
1. postTypeId から投稿タイプを取得
2. user_settings から system_prompt を取得
3. 投稿タイプの input_mode を確認
   - 'fields': 既存のロジック（placeholders に基づく入力データ）
   - 'memo': inputText をそのまま使用
4. system_prompt + type_prompt + template_structure を組み合わせてキャプション生成
```

---

## 5. 画面設計

### 5.1 新規画面

| 画面                   | パス                      | 説明                           |
| ---------------------- | ------------------------- | ------------------------------ |
| システムプロンプト設定 | `/settings/system-prompt` | システムプロンプトの設定・生成 |

### 5.2 変更画面

| 画面               | パス                        | 変更内容                                     |
| ------------------ | --------------------------- | -------------------------------------------- |
| 投稿タイプ新規登録 | `/settings/post-types/new`  | メモ書き入力 → AI生成 → プレビュー方式に変更 |
| 投稿タイプ編集     | `/settings/post-types/[id]` | 同上                                         |
| 投稿作成 Step 2    | `/create`                   | input_mode に応じたフォーム表示              |

### 5.3 サイドバー変更

```
📊 ダッシュボード
📝 投稿作成
📚 履歴
👤 キャラクター
⚙️ 設定
   └─ 📋 システムプロンプト  ← 新規追加
   └─ 📝 投稿タイプ
   └─ #️⃣ ハッシュタグ
```

---

## 6. AI生成プロンプト設計

### 6.1 システムプロンプト生成用プロンプト

```
あなたはSNS投稿生成AIの設定アシスタントです。

ユーザーが入力したメモ書きから、Instagram投稿を生成するAIへのシステムプロンプトを作成してください。

【ユーザーのメモ書き】
{userMemo}

【生成するシステムプロンプトの要件】
- 投稿者の立場・キャラクターを明確に
- 文章のトーン・スタイルを指定
- ターゲット読者への配慮事項
- 全体的な投稿のルール

【出力形式】
システムプロンプトのテキストのみを出力してください。
```

### 6.2 投稿タイプ生成用プロンプト

```
あなたはSNS投稿生成AIの設定アシスタントです。

ユーザーが入力した情報から、投稿タイプの設定を生成してください。

【投稿タイプ情報】
- タイプ名: {name}
- 説明: {description}
- 文字数目安: {minLength}〜{maxLength}文字
- 入力方式: {inputMode}

【ユーザーのメモ書き】
{userMemo}

【生成する内容】
1. タイプ別プロンプト（AIへの生成指示）
2. テンプレート構造（出力形式、絵文字・見出し含む）
3. プレースホルダー変数（入力方式が'fields'の場合のみ）
4. サンプル投稿

【出力形式】
以下のJSON形式で出力してください：
{
  "typePrompt": "...",
  "templateStructure": "...",
  "placeholders": [
    {"name": "...", "label": "...", "description": "...", "required": true/false, "inputType": "text/textarea"}
  ],
  "samplePost": "..."
}
```

---

## 7. 実装の注意点

### 7.1 データの保全

- **既存の投稿履歴は絶対に削除しない**
- **既存の投稿タイプ（ビルトイン7タイプ）は削除しない**
- 新しいカラムは NULL 許可で追加し、既存データに影響を与えない
- 移行スクリプトは必ずバックアップを取ってから実行

### 7.2 後方互換性

- `post_type`（TEXT）と `post_type_id`（UUID）の両方をサポート
- 新しい `input_mode` カラムのデフォルトは `'fields'`（既存の動作を維持）
- `type_prompt` が NULL の場合は、既存の `buildCustomTypePrompt()` ロジックを使用

### 7.3 キャプション生成ロジック

```typescript
// /api/generate/caption の処理フロー

// 1. 投稿タイプを取得
const postType = await getPostType(postTypeId);

// 2. システムプロンプトを取得
const userSettings = await getUserSettings(userId);
const systemPrompt = userSettings.system_prompt || DEFAULT_SYSTEM_PROMPT;

// 3. タイプ別プロンプトを決定
const typePrompt = postType.type_prompt || buildCustomTypePrompt(postType);

// 4. 入力方式に応じた処理
let inputData;
if (postType.input_mode === 'fields') {
  // プレースホルダー変数に基づく入力データ
  inputData = buildFieldsInput(postType.placeholders, requestBody);
} else {
  // メモ書きをそのまま使用
  inputData = requestBody.inputText;
}

// 5. キャプション生成
const caption = await generateCaption({
  systemPrompt,
  typePrompt,
  templateStructure: postType.template_structure,
  inputData,
});
```

---

## 8. 開発スケジュール（案）

| フェーズ | 内容                                      | 期間目安  |
| -------- | ----------------------------------------- | --------- |
| 1        | DBマイグレーション（カラム追加）          | 0.5日     |
| 2        | ビルトイン7タイプのDB移行                 | 0.5日     |
| 3        | AI生成API実装（system-prompt, post-type） | 1日       |
| 4        | システムプロンプト設定画面                | 1日       |
| 5        | 投稿タイプ登録・編集画面の改修            | 2日       |
| 6        | プレビュー機能実装                        | 1日       |
| 7        | 投稿作成画面の入力方式対応                | 1日       |
| 8        | キャプション生成APIの改修                 | 0.5日     |
| 9        | テスト・デバッグ                          | 1.5日     |
| **合計** |                                           | **約9日** |

---

## 9. テスト観点

### 9.1 システムプロンプト

| テスト項目               | 確認内容                          |
| ------------------------ | --------------------------------- |
| メモ書きからの生成       | AI生成が正常に動作する            |
| 手動編集                 | 生成後の編集が保存される          |
| 初期値                   | 既存SYSTEM_PROMPTが初期表示される |
| キャプション生成への反映 | 設定したプロンプトが使用される    |

### 9.2 投稿タイプ

| テスト項目         | 確認内容                                           |
| ------------------ | -------------------------------------------------- |
| メモ書きからの生成 | タイプ別プロンプト・テンプレート・変数が生成される |
| プレビュー         | 生成された設定とサンプル投稿が表示される           |
| 保存               | 生成結果がDBに保存される                           |
| 編集               | 既存タイプの編集・再生成が動作する                 |
| ビルトイン7タイプ  | 移行後も正常に動作する                             |

### 9.3 投稿作成

| テスト項目       | 確認内容                                     |
| ---------------- | -------------------------------------------- |
| 項目別入力       | プレースホルダーに基づくフォームが表示される |
| メモ書き入力     | 単一テキストエリアが表示される               |
| キャプション生成 | 入力方式に応じて正しく生成される             |

### 9.4 既存データ

| テスト項目        | 確認内容                         |
| ----------------- | -------------------------------- |
| 投稿履歴          | 既存の投稿が正常に表示される     |
| ビルトイン7タイプ | 移行後も投稿作成・編集が動作する |

---

## 10. 用語集

| 用語                 | 説明                                                                     |
| -------------------- | ------------------------------------------------------------------------ |
| システムプロンプト   | 全投稿タイプ共通でAIに与える指示（投稿者のキャラクター、文章スタイル等） |
| タイプ別プロンプト   | 投稿タイプごとにAIに与える指示（生成ルール等）                           |
| テンプレート構造     | 生成される投稿の出力形式（絵文字、見出し、構造）                         |
| プレースホルダー変数 | 投稿作成時の入力項目の定義                                               |
| 入力方式             | `fields`（項目別入力）または `memo`（メモ書き入力）                      |
| メモ書き             | ユーザーが自由記述で入力するテキスト                                     |

---

## 11. 更新履歴

| 日付       | 内容                        | 担当   |
| ---------- | --------------------------- | ------ |
| 2026-02-10 | 初版作成（フェーズ3改善版） | Claude |

---

## 12. 関連ドキュメント

- `PostCraft_Phase3_Requirements.md` - フェーズ3 元の要件定義書
- `PostCraft_フェーズ3投稿タイプカスタム機能.md` - 現状の実装内容
- `__20260208Post_Craft_仕様書.md` - フェーズ2完了時点の仕様書
