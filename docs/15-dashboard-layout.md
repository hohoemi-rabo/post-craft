# チケット #15: ダッシュボード・レイアウト

> Phase 2 UI 基盤
> 優先度: 高
> 参照: SPEC-PHASE2.md セクション 7

---

## 概要

認証済みユーザー向けのダッシュボードと共通レイアウトを実装する。
サイドナビゲーションまたはヘッダーナビゲーションで各機能へアクセスできるようにする。

---

## タスク一覧

### 1. ダッシュボードレイアウト作成
- [ ] `/app/(dashboard)/layout.tsx` 作成
- [ ] 認証チェック（未認証時リダイレクト）
- [ ] ユーザー情報表示
- [ ] ナビゲーション配置

### 2. サイドナビゲーション実装
- [ ] `components/dashboard/sidebar.tsx` 作成
- [ ] ナビゲーションリンク
  | アイコン | ラベル | パス |
  |---------|--------|------|
  | 🏠 | ダッシュボード | `/dashboard` |
  | ✏️ | 新規作成 | `/create` |
  | 📋 | 投稿履歴 | `/history` |
  | 👤 | キャラクター | `/characters` |
  | ⚙️ | 設定 | `/settings` |
- [ ] 現在のパスをハイライト表示
- [ ] モバイル時のハンバーガーメニュー

### 3. ヘッダー実装（ダッシュボード用）
- [ ] `components/dashboard/header.tsx` 作成
- [ ] ロゴ（トップページへのリンク）
- [ ] ユーザーアバター・名前表示
- [ ] ログアウトボタン
- [ ] モバイル時のメニュートグル

### 4. ダッシュボードホーム実装
- [ ] `/app/(dashboard)/dashboard/page.tsx` 作成
- [ ] ウェルカムメッセージ
- [ ] クイックアクション
  - 新規投稿作成ボタン
  - 最近の投稿（3件程度）
- [ ] 統計情報（任意）
  - 総投稿数
  - 今月の投稿数

### 5. 設定ページ実装
- [ ] `/app/(dashboard)/settings/page.tsx` 作成
- [ ] アカウント情報表示
  - メールアドレス
  - 名前
  - アバター
- [ ] ログアウトボタン

### 6. レスポンシブ対応
- [ ] デスクトップ: サイドバー固定 + メインコンテンツ
- [ ] タブレット: サイドバー折りたたみ可能
- [ ] モバイル: ボトムナビゲーション or ハンバーガーメニュー

### 7. ローディング・エラー状態
- [ ] `/app/(dashboard)/loading.tsx` 作成
- [ ] `/app/(dashboard)/error.tsx` 作成
- [ ] スケルトン UI コンポーネント

---

## 画面設計

### デスクトップレイアウト
```
┌──────────────────────────────────────────────┐
│  Header: Logo          User Avatar ▼ Logout  │
├────────────┬─────────────────────────────────┤
│            │                                 │
│  Sidebar   │      Main Content Area          │
│            │                                 │
│  🏠 Home   │                                 │
│  ✏️ Create │                                 │
│  📋 History│                                 │
│  👤 Chars  │                                 │
│  ⚙️ Setting│                                 │
│            │                                 │
└────────────┴─────────────────────────────────┘
```

### モバイルレイアウト
```
┌──────────────────────┐
│  ☰  Logo    Avatar   │
├──────────────────────┤
│                      │
│   Main Content       │
│                      │
│                      │
├──────────────────────┤
│ 🏠  ✏️  📋  👤  ⚙️   │  ← Bottom Nav
└──────────────────────┘
```

---

## 完了条件

- [ ] ダッシュボードレイアウトが表示される
- [ ] ナビゲーションで各ページに遷移できる
- [ ] ユーザー情報が表示される
- [ ] ログアウトが動作する
- [ ] レスポンシブ対応されている
- [ ] ローディング・エラー状態が適切に表示される

---

## 技術メモ

### Route Groups 活用
```
app/
├── (auth)/          # 認証関連（レイアウトなし）
│   ├── login/
│   └── unauthorized/
├── (dashboard)/     # ダッシュボード（共通レイアウト）
│   ├── layout.tsx
│   ├── dashboard/
│   ├── create/
│   ├── history/
│   ├── characters/
│   └── settings/
└── (public)/        # 公開ページ（Phase 1 のトップページ等）
```

### コンポーネント構成
```
components/
├── dashboard/
│   ├── sidebar.tsx
│   ├── header.tsx
│   ├── nav-link.tsx
│   ├── user-menu.tsx
│   └── mobile-nav.tsx
```

---

## 依存関係

- #14 Google OAuth 認証

## 後続タスク

- #21 投稿作成フロー
- #20 投稿履歴管理
- #18 キャラクター管理
